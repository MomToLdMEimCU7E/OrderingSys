{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  data() {\n    return {\n      icid: \"\",\n      returnVisible: false,\n      contractData: {},\n      invoiceData: [],\n      returnData: []\n    };\n  },\n  mounted() {\n    this.loadDetaile();\n    this.loadInvoice();\n    // this.loadReturn();\n    // console.log(\"123\", this.$route.query.id);\n    // console.log(\"456\", this.invoiceData[0].invoiceId);\n  },\n\n  methods: {\n    loadDetaile() {\n      this.$api.ContractAPI.loadDetaile(this, this.$route.query.id);\n    },\n    loadInvoice() {\n      this.$api.ContractAPI.loadInvoice(this, this.$route.query.id);\n    },\n    loadReturn() {\n      this.$api.ContractAPI.loadReturn(this, this.icid);\n    },\n    handleToContract() {\n      window.open(contractData.contractUrl);\n    },\n    handleOpenReturn(index) {\n      this.returnVisible = true;\n      this.icid = this.invoiceData[index].invoiceId;\n      this.loadReturn();\n      // console.log(\"123\",this.icid);\n    },\n\n    toContractInfo() {\n      this.$router.push({\n        path: \"/content/contractinfo\"\n      });\n    }\n  }\n};","map":{"version":3,"names":["data","icid","returnVisible","contractData","invoiceData","returnData","mounted","loadDetaile","loadInvoice","methods","$api","ContractAPI","$route","query","id","loadReturn","handleToContract","window","open","contractUrl","handleOpenReturn","index","invoiceId","toContractInfo","$router","push","path"],"sources":["src/views/Groupmgt.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"pm_div\">\r\n      <el-descriptions\r\n        title=\"合同基本信息\"\r\n        direction=\"vertical\"\r\n        :column=\"5\"\r\n        border\r\n        style=\"margin: 10px\"\r\n      >\r\n        <el-descriptions-item label=\"合同编号\">\r\n          {{ contractData.contractId }}\r\n        </el-descriptions-item>\r\n        <el-descriptions-item label=\"合同标题\">\r\n          {{ contractData.contractTitle }}\r\n        </el-descriptions-item>\r\n        <el-descriptions-item label=\"客户经理\">\r\n          {{ contractData.contractMgr }}\r\n        </el-descriptions-item>\r\n        <el-descriptions-item label=\"合同开始日期\">\r\n          <!-- <template slot-scope=\"scope\">{{scope.row.contractSDate | dateFormat}}</template> -->\r\n          {{ contractData.contractSdate | dateFormat }}\r\n        </el-descriptions-item>\r\n        <el-descriptions-item label=\"合同结束日期\">\r\n          <!-- <template slot-scope=\"scope\">{{scope.row.contractEDate | dateFormat}}</template> -->\r\n          {{ contractData.contractEdate | dateFormat }}\r\n        </el-descriptions-item>\r\n        <el-descriptions-item label=\"合同内容\" :span=\"5\">\r\n          {{ contractData.contractContent }}\r\n        </el-descriptions-item>\r\n        <el-descriptions-item label=\"客户名称\">\r\n          {{ contractData.customerName }}\r\n        </el-descriptions-item>\r\n        <el-descriptions-item label=\"合同状态\">\r\n          <el-tag>{{ contractData.contractState }}</el-tag>\r\n        </el-descriptions-item>\r\n      </el-descriptions>\r\n    </div>\r\n    <div class=\"pm_div\">\r\n      <el-descriptions\r\n        title=\"金额信息\"\r\n        direction=\"vertical\"\r\n        :column=\"4\"\r\n        border\r\n        style=\"margin: 10px\"\r\n      >\r\n        <el-descriptions-item label=\"收费主体单位\" :span=\"2\">\r\n          {{ contractData.contractCeu }}\r\n        </el-descriptions-item>\r\n        <el-descriptions-item label=\"收款方式\" :span=\"2\">\r\n          {{ contractData.contractPayment }}\r\n        </el-descriptions-item>\r\n        <el-descriptions-item label=\"合同金额\" :span=\"2\">\r\n          {{ contractData.contractMoney }}\r\n        </el-descriptions-item>\r\n      </el-descriptions>\r\n    </div>\r\n    <div class=\"pm_div\">\r\n      <el-descriptions\r\n        :title=\"(index+1) + '号发票信息'\"\r\n        direction=\"vertical\"\r\n        :column=\"4\"\r\n        border\r\n        style=\"margin: 10px\"\r\n        v-for=\"(item, index) in invoiceData\"\r\n        :key=\"index + item\"\r\n      >\r\n        <el-descriptions-item label=\"发票编号\">\r\n          {{ invoiceData[index].invoiceId }}\r\n        </el-descriptions-item>\r\n        <el-descriptions-item label=\"开票金额\">\r\n          {{ invoiceData[index].invoiceMoney }}\r\n        </el-descriptions-item>\r\n        <el-descriptions-item label=\"开票日期\" :span=\"2\">\r\n          {{ invoiceData[index].invoiceTime | dateFormat }}\r\n        </el-descriptions-item>\r\n        <el-descriptions-item label=\"收到回款金额\" :span=\"4\">\r\n          {{ invoiceData[index].receiveMoney }}\r\n        </el-descriptions-item>\r\n        <el-descriptions-item label=\"所属公司编号\">\r\n          {{ invoiceData[index].companyId }}\r\n        </el-descriptions-item>\r\n        <el-descriptions-item label=\"客户名称\">\r\n          {{ invoiceData[index].customerName }}\r\n        </el-descriptions-item>\r\n        <el-descriptions-item label=\"开票人名称\">\r\n          {{ invoiceData[index].bilerName }}\r\n        </el-descriptions-item>\r\n        <el-descriptions-item label=\"接收人名称\">\r\n          {{ invoiceData[index].receiverName }}\r\n        </el-descriptions-item>\r\n        <el-descriptions-item label=\"发票利率\">\r\n          {{ invoiceData[index].invoiceRate }}\r\n        </el-descriptions-item>\r\n        <el-descriptions-item label=\"发票信息\" :span=\"3\">\r\n          {{ invoiceData[index].invoiceInfo }}\r\n        </el-descriptions-item>\r\n        <el-descriptions-item>\r\n          <el-button type=\"primary\" style=\"\" @click=\"handleOpenReturn(index)\"\r\n            >查看回款记录</el-button\r\n          >\r\n        </el-descriptions-item>\r\n      </el-descriptions>\r\n    </div>\r\n    \r\n    <el-dialog\r\n      title=\"回款记录\"\r\n      :visible.sync=\"returnVisible\"\r\n      width=\"30%\"\r\n    >\r\n      <div>\r\n      <el-descriptions\r\n        direction=\"vertical\"\r\n        :column=\"4\"\r\n        border\r\n        style=\"margin: 10px\"\r\n        v-for=\"(item, index) in returnData\"\r\n        :key=\"index + item\"\r\n      >\r\n        <el-descriptions-item label=\"回款编号\">\r\n          {{ returnData[index].returnedId }}\r\n        </el-descriptions-item>\r\n        <el-descriptions-item label=\"支付方式\">\r\n          {{ returnData[index].paymentManner }}\r\n        </el-descriptions-item>\r\n        <el-descriptions-item label=\"发票编号\">\r\n          {{ returnData[index].invoiceId }}\r\n        </el-descriptions-item>\r\n        <el-descriptions-item label=\"合同编号\">\r\n          {{ returnData[index].contractId }}\r\n        </el-descriptions-item>\r\n        <el-descriptions-item label=\"客户名称\" :span=\"2\">\r\n          {{ returnData[index].customerName }}\r\n        </el-descriptions-item>\r\n        <el-descriptions-item label=\"公司编号\" :span=\"2\">\r\n          {{ returnData[index].companyId }}\r\n        </el-descriptions-item>\r\n        <el-descriptions-item label=\"回款金额\" :span=\"4\">\r\n          {{ returnData[index].returnedMoney }}\r\n        </el-descriptions-item>\r\n        <el-descriptions-item label=\"回款日期\" :span=\"4\">\r\n          {{ returnData[index].returnedDate | dateFormat }}\r\n        </el-descriptions-item>\r\n      </el-descriptions>\r\n    </div>\r\n      <span slot=\"footer\" class=\"dialog-footer\" style=\"margin-left: 10px\">\r\n        <el-button type=\"primary\" @click=\"returnVisible = false\" >返回</el-button>\r\n      </span>\r\n    </el-dialog>\r\n    <!-- {{contractData}} -->\r\n\r\n    <div class=\"button_div\">\r\n      <el-button type=\"primary\" style=\"width: 100px;\" @click=\"handleToContract\"\r\n        >查看原件</el-button\r\n      >\r\n      <el-button type=\"primary\" style=\"width: 100px;\" @click=\"toContractInfo\">返回</el-button>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      icid: \"\",\r\n      returnVisible: false,\r\n      contractData: {},\r\n      invoiceData: [],\r\n      returnData: [],\r\n    };\r\n  },\r\n  mounted() {\r\n    this.loadDetaile();\r\n    this.loadInvoice();\r\n    // this.loadReturn();\r\n    // console.log(\"123\", this.$route.query.id);\r\n    // console.log(\"456\", this.invoiceData[0].invoiceId);\r\n  },\r\n  methods: {\r\n    loadDetaile() {\r\n      this.$api.ContractAPI.loadDetaile(this, this.$route.query.id);\r\n    },\r\n    loadInvoice() {\r\n      this.$api.ContractAPI.loadInvoice(this, this.$route.query.id);\r\n    },\r\n    loadReturn() {\r\n      this.$api.ContractAPI.loadReturn(this,this.icid);\r\n    },\r\n    handleToContract() {\r\n      window.open(contractData.contractUrl);\r\n    },\r\n    handleOpenReturn(index) {\r\n      this.returnVisible = true;\r\n      this.icid = this.invoiceData[index].invoiceId;\r\n      this.loadReturn();\r\n      // console.log(\"123\",this.icid);\r\n    },\r\n    toContractInfo() {\r\n      this.$router.push({\r\n        path: \"/content/contractinfo\",\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.pm_div {\r\n  display: flex;\r\n  flex-direction: column;\r\n  margin: 40px 25px;\r\n  background: white;\r\n}\r\n.button_div {\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  margin: 40px 25px;\r\n  /* background: white; */\r\n}\r\n</style>"],"mappings":";AAgKA;EACAA,KAAA;IACA;MACAC,IAAA;MACAC,aAAA;MACAC,YAAA;MACAC,WAAA;MACAC,UAAA;IACA;EACA;EACAC,QAAA;IACA,KAAAC,WAAA;IACA,KAAAC,WAAA;IACA;IACA;IACA;EACA;;EACAC,OAAA;IACAF,YAAA;MACA,KAAAG,IAAA,CAAAC,WAAA,CAAAJ,WAAA,YAAAK,MAAA,CAAAC,KAAA,CAAAC,EAAA;IACA;IACAN,YAAA;MACA,KAAAE,IAAA,CAAAC,WAAA,CAAAH,WAAA,YAAAI,MAAA,CAAAC,KAAA,CAAAC,EAAA;IACA;IACAC,WAAA;MACA,KAAAL,IAAA,CAAAC,WAAA,CAAAI,UAAA,YAAAd,IAAA;IACA;IACAe,iBAAA;MACAC,MAAA,CAAAC,IAAA,CAAAf,YAAA,CAAAgB,WAAA;IACA;IACAC,iBAAAC,KAAA;MACA,KAAAnB,aAAA;MACA,KAAAD,IAAA,QAAAG,WAAA,CAAAiB,KAAA,EAAAC,SAAA;MACA,KAAAP,UAAA;MACA;IACA;;IACAQ,eAAA;MACA,KAAAC,OAAA,CAAAC,IAAA;QACAC,IAAA;MACA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}